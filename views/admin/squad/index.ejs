
<%- include("../../partials/header") %>

<div class="container">

    <header class="jumbotron">

    
        <div class="container">
            
            <h1>
                Squad Data
            </h1>
    
            <!-- <p>
                List of units
            </p> -->
    
            <p>
    
            </p>
    
        </div>
    </header>    


<div class="panel panel-primary">

    <div class="panel-heading">
        <h4 id="datatype_header">Find Items
            <input id="myInput" type="text" placeholder="Search..">
        </h4>
    </div>

    
    <div class="panel-body">

        <table id="measurement-form" class="center">
            
            <colgroup>
                <col span="1" style="width: 10%;"> 
                <col span="1" style="width: 10%;">
                <col span="1" style="width: 10%;">
                <col span="1" style="width: 10%;">
                <col span="1" style="width: 10%;">
                <col span="1" style="width: 10%;">
                <col span="1" style="width: 10%;">    
                <col span="1" style="width: 10%;">    
                <col span="1" style="width: 10%;">  
                <col span="1" style="width: 10%;">                                 
            </colgroup>
            
            <thead>
                <tr>
                    <th><span class="text">Name</span></th>
                    <th><span class="text">Cost_Per_Unit</span></th>
                    <th><span class="text">Min_Size</span></th>
                    <th><span class="text">Max_Size</span></th>
                    <th><span class="text">Unit</span></th>
                    <th><span class="text">Gun</span></th>
                    <th><span class="text">Melee</span></th>  
                    <th><span class="text">Armour</span></th>  
                    <th><span class="text">Upgrades</span></th>    
                    <th><span class="text">Special_Rules</span></th>                     							
                </tr>
            </thead>
            
            <tbody>	
                    <% data.forEach((item) =>  { %>
                        <tr class="row_data">

                            <td><%- item.name %> </td>  
                            <td><%- item.cost_per_unit %> </td> 
                            <td><%- item.min_size %> </td> 
                            <td><%- item.max_size %> </td>                        
                            <td><%- item.unit.name %> </td> 
                            <td><%- item.gun.name %> </td> 
                            <td><%- item.melee.name %> </td> 
                            <td><%- item.armour.name %> </td> 
                            <td><% item.upgrades.forEach((upgrade) => { %> 
                                <%- upgrade.name %> - <%= upgrade.description %> <br>
                            <% }) %>
                            <td><% item.special_rules.forEach((rule) => { %> 
                                <%- rule.name %> - <%= rule.description %> <br>
                            <% }) %>                            
                            </td> 
                            
                            
                        </tr>
                    <% }) %>

            </tbody>
        </table>



        </div>


</div>

<div class="top-padding">
    <a href="/">Go Back</a>
</div>

</div>


<script>
    $(document).ready(function(){
      $("#myInput").on("keyup", function() {
        var value = $(this).val().toLowerCase();
        $(".row_data").filter(function() {
          $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
        });
      });
    });
</script>

<%- include("../../partials/footer") %></col>